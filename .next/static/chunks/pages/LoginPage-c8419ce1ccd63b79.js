(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4156],{1814:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/LoginPage",function(){return r(3118)}])},1:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(7294),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,a.forwardRef)((r,o)=>{let{color:l="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:u="",children:m,...h}=r;return(0,a.createElement)("svg",{ref:o,...s,width:i,height:i,stroke:l,strokeWidth:c?24*Number(d)/Number(i):d,className:["lucide","lucide-".concat(n(e)),u].join(" "),...h},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},9972:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6479:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1).Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},5239:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},9911:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},2540:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},7911:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6286:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2752:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1).Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},5387:function(e,t,r){"use strict";var a=r(5893);r(7294);var s=r(1314),n=r(2540),o=r(5239),l=r(6479);t.Z=e=>{let{className:t="",showLabel:r=!1,theme:i,setTheme:d}=e,c="system",u=()=>{};try{let e=(0,s.b)();c=i||e.theme,u=d||e.setTheme}catch(e){c=i||"system",u=d||(()=>{})}let m=e=>{u(e)};return(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(t),children:[r&&(0,a.jsx)("span",{className:"text-sm font-medium mr-2 text-gray-700 dark:text-gray-300",children:"Theme:"}),(0,a.jsxs)("div",{className:"relative inline-flex p-1 rounded-lg bg-gray-100 dark:bg-gray-800 shadow-inner",children:[(0,a.jsx)("button",{onClick:()=>m("light"),className:"p-1.5 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ".concat("light"===c?"bg-white text-yellow-500 shadow-sm":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),"aria-label":"Light mode","aria-pressed":"light"===c,children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>m("dark"),className:"p-1.5 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ".concat("dark"===c?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),"aria-label":"Dark mode","aria-pressed":"dark"===c,children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>m("system"),className:"p-1.5 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ".concat("system"===c?"bg-white dark:bg-gray-700 text-purple-500 dark:text-purple-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),"aria-label":"System preference","aria-pressed":"system"===c,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})]})]})}},3118:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(5893),s=r(7294),n=r(2752),o=r(9911),l=r(6286),i=r(7911),d=r(1);let c=(0,d.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),u=(0,d.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var m=r(9972),h=r(5387),x=e=>{let{onLogin:t}=e,[r,d]=(0,s.useState)("admin"),[x,p]=(0,s.useState)({userId:"",operatorId:"",password:""}),[g,y]=(0,s.useState)(!0),[b,f]=(0,s.useState)(!1),[k,w]=(0,s.useState)(!1),[v,j]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("asan_user_id");e&&fetch("/api/user/".concat(e)).then(e=>e.json()).then(e=>{e.error||!["admin","operator"].includes(e.role)?localStorage.removeItem("asan_user_id"):t(e.role,e)}).catch(e=>{console.error("Auto-login failed:",e),localStorage.removeItem("asan_user_id")})},[]);let N=async(e,r)=>{console.log(r),f(!0),j(null);try{let a=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userType:e,...r})}),s=await a.json();if(!a.ok){j(s.error||"Login failed"),f(!1);return}localStorage.setItem("asan_user_id",s.id),t(e,s),p({userId:"",operatorId:"",password:""}),y(!1)}catch(e){console.error("Login error:",e),j("Something went wrong, try again.")}f(!1)},Z=async e=>{e.preventDefault(),await N(r,x)},I=e=>{p({...x,[e.target.name]:e.target.value})};return(0,a.jsx)("div",{className:"min-h-screen transition-colors duration-300",children:(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-blue-900 dark:to-purple-900 flex items-center justify-center p-4 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 opacity-10 dark:opacity-5",children:[(0,a.jsx)("div",{className:"absolute top-24 left-10 w-32 h-32 bg-blue-500 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-purple-500 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-pink-500 rounded-full blur-3xl animate-pulse delay-500"})]}),(0,a.jsx)("div",{className:"absolute top-6 right-6",children:(0,a.jsx)(h.Z,{showLabel:!1,theme:"system",setTheme:e=>{"dark"===e?document.documentElement.classList.add("dark"):"light"===e&&document.documentElement.classList.remove("dark")}})}),(0,a.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.Z,{className:"h-12 w-12 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full opacity-80"})]}),(0,a.jsx)("span",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AsanCapture"})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Professional Video Production Platform"})]}),g&&(0,a.jsxs)("div",{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-gray-200/50 dark:border-gray-700/50",children:[(0,a.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-2xl p-1 mb-8",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>d("admin"),className:"flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-xl font-medium transition-all duration-200 ".concat("admin"===r?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400"),children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Admin"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>d("operator"),className:"flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-xl font-medium transition-all duration-200 ".concat("operator"===r?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400"),children:[(0,a.jsx)(l.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Operator"})]})]}),(0,a.jsxs)("form",{onSubmit:Z,className:"space-y-6",children:["admin"===r?(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"userId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin User ID"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",id:"userId",name:"userId",value:x.userId,onChange:I,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Enter admin user ID"})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"operatorId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Operator ID"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",id:"operatorId",name:"operatorId",value:x.operatorId,onChange:I,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Enter operator ID"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{type:k?"text":"password",id:"password",name:"password",value:x.password,onChange:I,required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Enter password"}),(0,a.jsx)("button",{type:"button","aria-label":k?"Hide password":"Show password",onClick:()=>w(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:k?(0,a.jsx)(u,{className:"h-5 w-5"}):(0,a.jsx)(m.Z,{className:"h-5 w-5"})})]})]}),v&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:v}),(0,a.jsx)("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none disabled:hover:scale-100",children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Signing In..."})]}):(0,a.jsx)("span",{children:"Sign In"})})]})]})]})]})})}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=1814)}),_N_E=e.O()}]);