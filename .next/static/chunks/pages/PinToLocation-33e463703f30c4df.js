(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5601],{3773:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/PinToLocation",function(){return t(539)}])},539:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return s}});var n=t(5893),o=t(7294);function s(){let[e,r]=(0,o.useState)(null),[t,s]=(0,o.useState)(!0);return((0,o.useEffect)(()=>{(async()=>{let e=localStorage.getItem("asan_user_id");if(!e){s(!1);return}try{let t=await fetch("/api/user/".concat(e)),n=await t.json();t.ok?r(n):(console.error("User fetch failed:",n.error),localStorage.removeItem("asan_user_id"))}catch(e){console.error("Fetch error:",e),localStorage.removeItem("asan_user_id")}finally{s(!1)}})()},[]),t)?(0,n.jsx)("p",{children:"Loading user..."}):e?(0,n.jsxs)("div",{className:"p-4 rounded-lg bg-gray-100",children:[(0,n.jsxs)("h2",{className:"text-lg font-semibold",children:["Welcome, ",e.name]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Role: ",e.role]})]}):(0,n.jsx)("p",{children:"No user logged in"})}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=3773)}),_N_E=e.O()}]);