"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7090],{2451:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},407:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},740:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},5863:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3247:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9663:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},7090:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=a(7437),s=a(2265),d=a(9663),i=a(3247),l=a(740),n=a(5863),c=a(2451),o=a(407),x=a(9064),g=e=>{let{limit:t=10}=e,[a,d]=(0,s.useState)([]),[g,m]=(0,s.useState)(!0),[h,p]=(0,s.useState)(""),[y,u]=(0,s.useState)(1),[b,k]=(0,s.useState)(1),[f,j]=(0,s.useState)(""),[w,N]=(0,s.useState)("all"),[v,C]=(0,s.useState)("joinDate"),[S,Z]=(0,s.useState)("desc"),L=async()=>{m(!0),p("");try{let e=new URLSearchParams({page:y.toString(),limit:t.toString(),sortField:v,sortDirection:S,...f&&{search:f},..."all"!==w&&{status:w}}),a=await fetch("/api/operators?".concat(e.toString())),r=await a.json();if(!a.ok)throw Error(r.error||"Failed to fetch operators");d(r.operators),k(Math.ceil(r.total/t))}catch(e){p(e.message||"An error occurred while fetching operators"),x.Am.error(e.message||"Failed to fetch operators")}finally{m(!1)}};(0,s.useEffect)(()=>{L()},[y,t,f,w,v,S]);let M=e=>{v===e?Z("asc"===S?"desc":"asc"):(C(e),Z("asc"))},A=e=>{switch(e){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"inactive":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},D=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex flex-col md:flex-row justify-between items-center space-y-3 md:space-y-0",children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u(1)},className:"relative w-full md:w-64",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search operators...",value:f,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),(0,r.jsx)(i.Z,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),(0,r.jsxs)("select",{value:w,onChange:e=>{N(e.target.value),u(1)},className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,r.jsx)("option",{value:"all",children:"All Status"}),(0,r.jsx)("option",{value:"active",children:"Active"}),(0,r.jsx)("option",{value:"inactive",children:"Inactive"}),(0,r.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,r.jsx)("button",{onClick:()=>L(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Refresh"})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:g?(0,r.jsxs)("div",{className:"flex justify-center items-center py-20",children:[(0,r.jsx)(n.Z,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,r.jsx)("span",{className:"ml-2 text-gray-600 dark:text-gray-300",children:"Loading operators..."})]}):h?(0,r.jsxs)("div",{className:"p-6 text-center text-red-600 dark:text-red-400",children:[(0,r.jsx)("p",{children:h}),(0,r.jsx)("button",{onClick:()=>L(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Try Again"})]}):0===a.length?(0,r.jsx)("div",{className:"p-6 text-center text-gray-600 dark:text-gray-400",children:(0,r.jsx)("p",{children:"No operators found"})}):(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,r.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>M("operatorId"),children:["Operator ID","operatorId"===v&&(0,r.jsx)("span",{className:"ml-1",children:"asc"===S?"↑":"↓"})]}),(0,r.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>M("name"),children:["Name","name"===v&&(0,r.jsx)("span",{className:"ml-1",children:"asc"===S?"↑":"↓"})]}),(0,r.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>M("email"),children:["Email","email"===v&&(0,r.jsx)("span",{className:"ml-1",children:"asc"===S?"↑":"↓"})]}),(0,r.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>M("location"),children:["Location","location"===v&&(0,r.jsx)("span",{className:"ml-1",children:"asc"===S?"↑":"↓"})]}),(0,r.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>M("status"),children:["Status","status"===v&&(0,r.jsx)("span",{className:"ml-1",children:"asc"===S?"↑":"↓"})]}),(0,r.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>M("joinDate"),children:["Join Date","joinDate"===v&&(0,r.jsx)("span",{className:"ml-1",children:"asc"===S?"↑":"↓"})]}),(0,r.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>M("lastLogin"),children:["Last Login","lastLogin"===v&&(0,r.jsx)("span",{className:"ml-1",children:"asc"===S?"↑":"↓"})]})]})}),(0,r.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.operatorId}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:e.email}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:e.location||"N/A"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(A(e.status)),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:D(e.joinDate)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:e.lastLogin?D(e.lastLogin):"Never"})]},e._id))})]})}),!g&&!h&&a.length>0&&(0,r.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,r.jsx)("button",{onClick:()=>u(Math.max(1,y-1)),disabled:1===y,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,r.jsx)("button",{onClick:()=>u(Math.min(b,y+1)),disabled:y===b,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,r.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",(0,r.jsx)("span",{className:"font-medium",children:a.length>0?(y-1)*t+1:0})," to"," ",(0,r.jsx)("span",{className:"font-medium",children:Math.min(y*t,(b-1)*t+a.length)})," ","of ",(0,r.jsx)("span",{className:"font-medium",children:b*t})," results"]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,r.jsxs)("button",{onClick:()=>u(Math.max(1,y-1)),disabled:1===y,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)("span",{className:"sr-only",children:"Previous"}),(0,r.jsx)(c.Z,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.min(5,b)},(e,t)=>{let a;return a=b<=5?t+1:y<=3?t+1:y>=b-2?b-4+t:y-2+t,(0,r.jsx)("button",{onClick:()=>u(a),className:"relative inline-flex items-center px-4 py-2 border ".concat(y===a?"z-10 bg-blue-50 dark:bg-blue-900 border-blue-500 dark:border-blue-500 text-blue-600 dark:text-blue-200":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"," text-sm font-medium"),children:a},a)}),(0,r.jsxs)("button",{onClick:()=>u(Math.min(b,y+1)),disabled:y===b,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)("span",{className:"sr-only",children:"Next"}),(0,r.jsx)(o.Z,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})},m=()=>(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-lg",children:(0,r.jsx)(d.Z,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Operator Management"})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden",children:(0,r.jsx)(g,{limit:10})})]})}}]);